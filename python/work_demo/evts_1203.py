# 正则表达式,判断str_value="对内存最新占用比例:85.1%" 判断字符串的是否大于85.
# 只使用re.match方法是否匹配成功,不使用python判断,不使用group取值判断,通过正则表达式判断

import re

def check_memory_usage_greater_than_85():
    """
    判断内存占用比例是否大于85%
    要求：只使用re.match方法是否匹配成功，不使用Python判断，不使用group取值判断
    
    返回:
        bool: 如果内存占用比例大于85%，返回True，否则返回False
    """
    # 定义测试字符串
    str_value = "对内存最新占用比例:85.1%"
    
    # 使用正则表达式判断冒号后面两位的数字是否大于等于85
    # 正则表达式解释：
    # .* 匹配任意字符（包括前后内容）
    # 对内存最新占用比例: 匹配特定字符串
    # (?:8[5-9]|9[0-9]|[1-9][0-9]{2,}) 匹配大于等于85的两位数字：
    #   - 8[5-9]: 85-89
    #   - 9[0-9]: 90-99
    #   - [1-9][0-9]{2,}: 100及以上的数字
    # (?:\.[0-9]+)?% 匹配可选的.0-9小数部分（任意位数）和百分号
    # .* 匹配任意字符（包括前后内容）
    pattern = r'.*对内存最新占用比例:(?:8[5-9]|9[0-9]|[1-9][0-9]{2,})(?:\.[0-9]+)?%.*'
    
    # 使用re.match进行匹配
    is_m = re.match(pattern, str_value)
    
    # 如果匹配成功，说明数值大于85
    if is_m:
        print(f"字符串: {str_value}")
        print("内存占用比例大于85%: True")
        return True
    else:
        print(f"字符串: {str_value}")
        print("内存占用比例不大于85%: False")
        return False

def test_different_memory_values():
    """
    测试不同的内存占用比例值
    """
    test_cases = [
        "对内存最新占用比例:84%",    # 小于85
        "对内存最新占用比例:84.9%",  # 小于85
        "ssss对内存最新占用比例:85.23%wwwwww",    # 等于85
        "对内存最新占用比例:85.0%",  # 等于85
        "对内存最新占用比例:85.1%",  # 大于85
        "对内存最新占用比例:89%",    # 大于85
        "对内存最新占用比例:90%",    # 大于85
        "对内存最新占用比例:95.0%",  # 大于85
        "对内存最新占用比例:100%",   # 大于85
        "对内存最新占用比例:100.5%", # 大于85
        "对内存最新占用比例:75.2%"   # 小于85
    ]
    
    for test_str in test_cases:
        print(f"\n测试字符串: {test_str}")
        
        # 使用相同的正则表达式进行匹配
        pattern = r'.*对内存最新占用比例:(?:8[5-9]|9[0-9]|[1-9][0-9]{2,})(?:\.[0-9]+)?%.*'
        is_m = re.match(pattern, test_str)
        
        if is_m:
            print("内存占用比例大于85%: True")
        else:
            print("内存占用比例不大于85%: False")

# 测试函数
if __name__ == "__main__":
    # check_memory_usage_greater_than_85()
    test_different_memory_values()